<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Boids by coringuyen</title>
    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/github-dark.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
	<script src="TemplateData/UnityProgress.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <!--[if lt IE 8]>
    <link rel="stylesheet" href="stylesheets/ie.css">
    <![endif]-->
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

  </head>
  <body class="template">
      <div id="header">
        <nav>
          <li class="fork"><a href="https://github.com/coringuyen/Boids">View On GitHub</a></li>
        </nav>
      </div><!-- end header -->

    <div class="wrapper">

      <section>
        <div id="title">
          <h1>Boids</h1>
          <p style="font-size:20px">Boids simulation</p>
          <hr>
          <span class="credits left">Project maintained by <a href="https://github.com/coringuyen">coringuyen</a></span>
          <span class="credits right">Hosted on GitHub Pages &mdash; Theme by <a href="https://twitter.com/michigangraham">mattgraham</a></span>
        </div>
		
<p class="header"><span style="margin-left:-168px;">Unity WebGL Player | </span>Boids</p>
    <div class="template-wrap clear">
      <span style="margin-left:-168px;"><canvas class="emscripten" id="canvas" oncontextmenu="event.preventDefault()" height="600px" width="960px"></canvas>
    </div>
    <p class="footer"><span style="margin-left:-168px;">&laquo; created with <a href="http://unity3d.com/" title="Go to unity3d.com">Unity</a> &raquo;</p>
    <script type='text/javascript'>
  var Module = {
    TOTAL_MEMORY: 268435456,
    errorhandler: null,			// arguments: err, url, line. This function must return 'true' if the error is handled, otherwise 'false'
    compatibilitycheck: null,
    dataUrl: "Release/WebBuild.data",
    codeUrl: "Release/WebBuild.js",
    memUrl: "Release/WebBuild.mem",
  };
</script>
<script src="Release/UnityLoader.js"></script>

        <h1>
<center><a id="documentation" class="anchor" href="#documentation" aria-hidden="true"><span class="octicon octicon-link"></span></a><ins>Documentation</ins></h1></center>

<h2>
<center><a id="problem-description" class="anchor" href="#problem-description" aria-hidden="true"><span class="octicon octicon-link"></span></a>Problem Description</h2></center>

<p style="font-size:20px"><b>Name</b>: Boids Simulation</p>
<p style="font-size:20px"><b>Problem Statement</b>: Boids is an artificial intelligence. They will making decision depend on this 3 rules are cohesion, alignment, and separation.</p>

<p style="font-size:20px"><b>Problem Specification</b>: Calculate average distance of boids for cohesion. Calculate average velocity of boids except itself for alignment. Calculate distance between the boids for seperation.</p>

<h2>
<center><a id="user-interface-information" class="anchor" href="#user-interface-information" aria-hidden="true"><span class="octicon octicon-link"></span></a>User Interface Information</h2></center>

<p style="font-size:20px">Name: Cohesion<br/>
Description: Boids center of mass. The average distance of all the boid</p>

<p style="font-size:20px">Name: Alignment<br/>
Description: The average of boids velocity</p>

<p style="font-size:20px">Name: Seperation<br/>
Description: A distance that boids will maintain from each others</p>

<p style="font-size:20px">Name: Exit<br/>
Description: Quit the aplication</p>

<p style="font-size:20px">Name: Resest Sliders<br/>
Description: reset Cohension, Alignment, and Seperation back to their default value</p>

<p style="font-size:20px">Name: Target<br/>
Description: when the check box is check all the boids will move toward to the target</p>

<h2>
<center><a id="functions-information" class="anchor" href="#functions-information" aria-hidden="true"><span class="octicon octicon-link"></span></a>Functions Information</h2></center>

<p style="font-size:20px"><b>File</b>: BoidStat.cs<br/>
Class: BoidStat<br/>
Data members:<br/>
     <span style="padding-left:68px;">Name: Velocity<br/>
     <span style="padding-left:68px;">Description: boid speed over time</p>

<p style="font-size:20px">Function: Start<br/>
Parameters: n/a<br/>
Description: Set Velocity to some random value<br/>
Return: n/a</p>

<p style="font-size:20px"><b>File</b>: BoidsAlgorimth.cs<br/>
Class: BoidsAlgorimth<br/>
Data members:<br/>
     <span style="padding-left:68px;">Name: fishgold</span><br/>
     <span style="padding-left:68px;">Description: a list of gameobject to hold gameobject when it <span style="padding-left:68px;">instantiate</span></p>

	 <p style="font-size:20px"><span style="padding-left:68px;">Name: count<br/>
	 <span style="padding-left:68px;">Description: an interger to how many boid that need to be <span style="padding-left:68px;">instantiate</span></p>

	 <p style="font-size:20px"><span style="padding-left:68px;">Name: BoidPreb</span><br/>
	 <span style="padding-left:68px;">Description: a gameobject that will use to spawn boids</span></p>

	 <p style="font-size:20px"><span style="padding-left:68px;">Name: TargetPreb</span><br/>
	 <span style="padding-left:68px;">Description: a gameobject that will use to spawn a target for <span style="padding-left:68px;">boids</p></span>

	 <p style="font-size:20px"><span style="padding-left:68px;">Name: cohesion_inc</span><br/>
	 <span style="padding-left:68px;">Description: slider for user interface</p></span>

	 <p style="font-size:20px"><span style="padding-left:68px;">Name: alignment_inc</span><br/>
	 <span style="padding-left:68px;">Description: slider for user interface</p></span>

	 <p style="font-size:20px"><span style="padding-left:68px;">Name: seperation_inc</span><br/>
	 <span style="padding-left:68px;">Description: slider for user interface</p></span>

	 <p style="font-size:20px"><span style="padding-left:68px;">Name: position</span><br/>
	 <span style="padding-left:68px;">Description: use pos to give boid a random position when its <span style="padding-left:68px;">spawn</p></span>

	 <p style="font-size:20px"><span style="padding-left:68px;">Name: v1</span><br/>
	 <span style="padding-left:68px;">Description: use this vector to store cohension value after <span style="padding-left:68px;">calculation</p></span>

	 <p style="font-size:20px"><span style="padding-left:68px;">Name: v2</span><br/>
	 <span style="padding-left:68px;">Description: use this vector to store seperation value after <span style="padding-left:68px;">calculation</p></span>

	 <p style="font-size:20px"><span style="padding-left:68px;">Name: v3</span><br/>
	 <span style="padding-left:68px;">Description: use this vector to store alignment value after <span style="padding-left:68px;">calculation</p></span>

	 <p style="font-size:20px"><span style="padding-left:68px;">Name: v4</span><br/>
	 <span style="padding-left:68px;">Description: use this vector to store bounding box value after <span style="padding-left:68px;">calculation</p></span>

	 <p style="font-size:20px"><span style="padding-left:68px;">Name: pcj</span><br/>
	 <span style="padding-left:68px;">Description: use pcj to store the value of center of mass <span style="padding-left:68px;">calculation</p></span>

	 <p style="font-size:20px"><span style="padding-left:68px;">Name: pvj</span><br/>
	 <span style="padding-left:68px;">Description: use pvj to store the value of boids average velocity <span style="padding-left:68px;">except itself</p></span>

	 <p style="font-size:20px"><span style="padding-left:68px;">Name: force</span><br/>
	 <span style="padding-left:68px;">Description: use this vector to change boids position to opposite <span style="padding-left:68px;">direction when 
	they hit the box limit</p></span>

	 <p style="font-size:20px"><span style="padding-left:68px;">Name: limitedVelocity</span><br/>
	 <span style="padding-left:68px;">Description: use this float to limited boid Velocity so its won't go <span style="padding-left:68px;">too fast</p></span>

	 <p style="font-size:20px"><span style="padding-left:68px;">Name: boidsgui</span><br/>
	 <span style="padding-left:68px;">Description: access BoidsGUI class components</p></span>

<p style="font-size:20px">Function: Start<br/>
Parameters: n/a<br/>
Description: spawn boids<br/>
Return: n/a</p>

<p style="font-size:20px">Function: Update<br/>
Parameters: n/a<br/>
Description: update boids position to a new position every frame.<br/>
Return: n/a</p>

<p style="font-size:20px">Function: limited_velocity<br/>
Parameters: GameObject myFish<br/>
Description: limited boids velocity when their velocity go over a certain value that is giving.<br/>
Return: n/a</p>

<p style="font-size:20px">Function: ExitButton<br/>
Parameters: n/a<br/>
Description: quit application <br/>
Return: n/a</p>

<p style="font-size:20px">Function: move_all_boids_to_new_position<br/>
Parameters: n/a<br/>
Description: all the calculation are call within this function to update boids position<br/>
Return: n/a</p>

<p style="font-size:20px">Function: bounding_box<br/>
Parameters: GameObject currentFish<br/>
Description: there are limited space where boids can go. This is to make the boids won't go too far away and just stay within a certain space that is giving.<br/>
Return: Vector3 force</p>

<p style="font-size:20px">Function: cohesion<br/>
Parameters: GameObject myFish<br/>
Description: calculate boids center of mass which is their distance average.<br/>
Return: Vector3</p>

<p style="font-size:20px">Function: seperation<br/>
Parameters: GameObject myFish<br/>
Description: there are certain distance that each boid have for each other so they won't go on top of each other. This function calculate the distance that they need to be away from each other.<br/>
Return: Vector3</p>

<p style="font-size:20px">Function: alignment<br/>
Parameters: GameObject myFish<br/>
Description: All the boids will try to match each other velocity. This function calculate boids average velocity<br/>
Return: Vector3</p>

<p style="font-size:20px"><b>File</b>: BoidsGUI<br/>
Class: BoidsGUI<br/>
Data members<br/>
    <span style="padding-left:68px;">Name: Cohesion</span><br/>
    <span style="padding-left:68px;">Description: a slider for user input</p></span>

	 <p style="font-size:20px"><span style="padding-left:68px;">Name: Alignment</span><br/>
	 <span style="padding-left:68px;">Description: a slider for user input</p></span>

	 <p style="font-size:20px"><span style="padding-left:68px;">Name: Seperation</span><br/>
	 <span style="padding-left:68px;">Description: a slider for user input</p></span>

	 <p style="font-size:20px"><span style="padding-left:68px;">Name: Exit</span><br/>
	 <span style="padding-left:68px;">Description: a button to click when user want to quit the <span style="padding-left:68px;">application</p></span>

	 <p style="font-size:20px"><span style="padding-left:68px;">Name: ResetSliders</span><br/>
	 <span style="padding-left:68px;">Description: a button to reset all the sliders back to the default <span style="padding-left:68px;">value</p></span>

	 <p style="font-size:20px"><span style="padding-left:68px;">Name: cohesion</span><br/>
	 <span style="padding-left:68px;">Description: a float to store Cohesion slider value</p></span>

	 <p style="font-size:20px"><span style="padding-left:68px;">Name: alignment</span><br/>
	 <span style="padding-left:68px;">Description: a float to store Alignment slider value</p></span>

	 <p style="font-size:20px"><span style="padding-left:68px;">Name: seperation</span><br/>
	 <span style="padding-left:68px;">Description: a float to store Seperation slider value</p></span>

	 <p style="font-size:20px"><span style="padding-left:68px;">Name: Target</span><br/>
	 <span style="padding-left:68px;">Description: a boolean for user input</p></span>


<p style="font-size:20px">Function: Start<br/>
Parameters: n/a<br/>
Description: Set all the GUI elements position base on the screen resolution, and active all the GUI elements that need to appear from the start<br/>
Return: n/a</p>

<p style="font-size:20px">Function: ResetSlider<br/>
Parameters: n/a<br/>
Description: set all the sliders value back to their default value<br/>
Return: n/a</p>

<h2>
<center><a id="implementation" class="anchor" href="#implementation" aria-hidden="true"><span class="octicon octicon-link"></span></a>Implementation</h2></center>

<p style="font-size:20px"><b>File</b>: BoidStat.cs<br/>
using UnityEngine;<br/>
using System.Collections;</p>

<p style="font-size:20px">#Function: Start<br/>
#Parameters: n/a<br/>
#Description: Set Velocity to some random value<br/>
#Return: n/a<br/>
<pre><code>void Start()
{
   velocity = new Vector3(Random.Range(0.2f, -0.2f), Random.Range(0.5f, -0.2f), Random.Range(0.2f, -0.20f));
}</code></pre>

<p style="font-size:20px"><b>File</b>: BoidsAlgorimth.cs<br/>
using UnityEngine;<br/>
using System.Collections;<br/>
using System.Collections.Generic;</p>

<p style="font-size:20px">#Function: Start<br/>
#Parameters: n/a<br/>
#Description: spawn boids<br/>
#Return: n/a</p>
<pre><code>void Start()
{
    limitedVelocity = 0.1f;
    for (int i = 0; i &lt; count; ++i) 
    {
        GameObject fish;
        pos = new Vector3(Random.Range(10.0f, -10.0f), Random.Range(1.5f, 10.0f), Random.Range(10.0f, -10.0f));
        fish = Instantiate(spawnfish) as GameObject;
        fish.transform.position = pos;
        fish.transform.parent = gameObject.transform;
        fishgold.Add(fish);
    }

}</code></pre>

<p style="font-size:20px">#Function: Update<br/>
#Parameters: n/a<br/>
#Description: update boids position to a new position every frame<br/>
#Return: n/a</p>
<pre><code>void Update()
{
    move_all_boids_to_new_position();
}</code></pre>

<p style="font-size:20px">#Function: limited_velocity<br/>
#Parameters: GameObject myFish<br/>
#Description: limited boids velocity when their velocity go over a certain value that is giving<br/>
#Return: n/a</p>
<pre><code>void limited_velocity(GameObject myFish) // they wont move too fast
{
    if (myFish.GetComponent().velocity.magnitude &gt; limitedVelocity)
    {
        myFish.GetComponent().velocity = myFish.GetComponent().velocity.normalized * 0.25f;
    }
}</code></pre>

<p style="font-size:20px">#Function: ExitButton<br/>
#Parameters: n/a<br/>
#Description: quit application <br/>
#Return: n/a</p>
<pre><code>public void ExitButton()
{
    Application.Quit();
}</code></pre>

<p style="font-size:20px">#Function: move_all_boids_to_new_position<br/>
#Parameters: n/a<br/>
#Description: all the calculation are call within this function to update boids position<br/>
#Return: n/a</p>
<pre><code> void move_all_boids_to_new_position()
{
	foreach(GameObject myFish in fishgold)
	{
		v1 = cohesion  (myFish) * cohension_inc.value * 0.1f;
		v2 = seperation(myFish) * seperation_inc.value * 0.1f;
		v3 = alignment (myFish) * alignment_inc.value * 0.1f;
		v4 = bounding_box(myFish) * 0.01f;

		myFish.GetComponent&lt;BoidStat&gt;().velocity = 
		myFish.GetComponent&lt;BoidStat&gt;().velocity + v1 + v2 + v3 + v4;
		myFish.GetComponent&lt;BoidStat&gt;().transform.up = myFish.GetComponent&lt;BoidStat&gt;().velocity.normalized;
		limited_velocity(myFish);
		myFish.transform.position += myFish.GetComponent&lt;BoidStat&gt;().velocity;
	}

}</code></pre>

<p style="font-size:20px">#Function: bounding_box<br/>
#Parameters: GameObject currentFish<br/>
#Description: there are limited space where boids can go. This is to make the boids won't go too far away and just stay within a certain space that is giving<br/>
#Return: Vector3 force</p>
<pre><code>Vector3 bounding_box(GameObject currentFish)
{
	Vector3 fish_position = currentFish.transform.position;

	if (fish_position.x &lt; xmin)      { force.x = xmin - fish_position.x; }
	else if (fish_position.x &gt; xmax) { force.x = xmax - fish_position.x; }

	if (fish_position.y &lt; ymin)      { force.y = ymin - fish_position.y; }
	else if (fish_position.y &gt; ymax) { force.y = ymax - fish_position.y; }

	if (fish_position.z &lt; zmin)      { force.z = zmin - fish_position.z; }
	else if (fish_position.z &gt; zmax) { force.z = zmax - fish_position.z; }

	return force;

}</code></pre>

<p style="font-size:20px">#Function: cohesion<br/>
#Parameters: GameObject myFish<br/>
#Description: calculate boids center of mass which is their distance average<br/>
#Return: Vector3</p>
<pre><code>Vector3 cohesion(GameObject myFish) 
{
	if (Bigfish &amp;&amp; boidsgui.Target.isOn == true)
	{
		return (Bigfish.transform.position - myFish.transform.position) / 100; 
	}

	else foreach (GameObject f in fishgold)
	{
		if (f != myFish)
		{ pcj += f.transform.position; }
	}

	pcj = pcj / (fishgold.Count - 1);
	return (pcj - myFish.transform.position) / 100;

}</code></pre>

<p style="font-size:20px">#Function: seperation<br/>
#Parameters: GameObject myFish<br/>
#Description: there are certain distance that each boid have for each other so they won't go on top of each other. This function calculate the distance that they need to be away from each other<br/>
#Return: Vector3</p>
<pre><code>Vector3 seperation(GameObject myFish) 
{
	Vector3 displacement = new Vector3(0,0,0);

	foreach (GameObject f in fishgold)
	{
		if (f != myFish)
		{
			if (Vector3.Distance(f.transform.position, myFish.transform.position) &lt; 6) 
			{ displacement = displacement - (f.transform.position - myFish.transform.position); }
		 }
	}

	return displacement;

}</code></pre>

<p style="font-size:20px">#Function: alignment<br/>
#Parameters: GameObject myFish<br/>
#Description: All the boids will try to match each other velocity. This function calculate boids average velocity<br/> 
#Return: Vector3</p>
<pre><code>Vector3 alignment(GameObject myFish)
{
	foreach (GameObject f in fishgold)
	{
		if (f != myFish)
		{ pvj += f.GetComponent().velocity; }
	}

	pvj = pvj / (fishgold.Count - 1);
	return (pvj - myFish.GetComponent&lt;BoidStat&gt;().velocity) / 8;

}</code></pre>

<p style="font-size:20px"><b>File</b>: BoidsGUI<br/>
using UnityEngine;<br/>
using System.Collections;<br/>
using UnityEngine.UI;</p>

<p style="font-size:20px">#Function: Start<br/>
#Parameters: n/a<br/>
#Description: Set all the GUI elements position base on the screen resolution, and active all the GUI elements that need to appear from the start<br/>
#Return: n/a</p>
<pre><code>void Start()
{
	Cohesion.GetComponent().position = 
			new Vector3(Screen.width *0.5f, Screen.height * 0.1f, 0);
	Alignment.GetComponent().position = 
			new Vector3(Screen.width * 0.2f, Screen.height * 0.1f, 0);
	Seperation.GetComponent().position = 
			new Vector3(Screen.width * 0.8f, Screen.height * 0.1f, 0);
	Exit.GetComponent().position = 
			new Vector3(Screen.width * 0.8f, Screen.height * 0.95f, 0);
	ResetSliders.GetComponent().position = 
			new Vector3(Screen.width * 0.2f, Screen.height * 0.95f, 0);
	Target.GetComponent().position = 
			new Vector3(Screen.width *0.5f, Screen.height * 0.95f, 0);

	cohesion = Cohension.value;
	alignment = Alignment.value;
	seperation = Seperation.value;

	Cohesion.gameObject.SetActive(true);
	Alignment.gameObject.SetActive(true);
	Seperation.gameObject.SetActive(true);
	Exit.gameObject.SetActive(true);
	ResetSliders.gameObject.SetActive(true);

}</code></pre>

<p style="font-size:20px">#Function: ResetSlider<br/>
#Parameters: n/a<br/>
#Description: set all the sliders value back to their default value<br/>
#Return: n/a</p>
<pre><code>public void ResetSlider()
{
    Cohesion.value = cohesion;
    Alignment.value = alignment;
    Seperation.value = seperation;
}</code></pre>
      </section>

    </div>
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->
    
  </body>
</html>
